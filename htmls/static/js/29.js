webpackJsonp([29],{KKXT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("ZLEe"),n=a.n(i),o=a("WHfE"),s=a("Zq1L"),l={name:"loadmore",props:{maxDistance:{type:Number,default:0},autoFill:{type:Boolean,default:!0},distanceIndex:{type:Number,default:2},topPullText:{type:String,default:"下拉刷新"},topDropText:{type:String,default:"释放更新"},topLoadingText:{type:String,default:"加载中..."},topDistance:{type:Number,default:70},topMethod:{type:Function},bottomPullText:{type:String,default:"上拉刷新"},bottomDropText:{type:String,default:"释放更新"},bottomLoadingText:{type:String,default:"加载中..."},bottomDistance:{type:Number,default:70},bottomMethod:{type:Function},bottomAllLoaded:{type:Boolean,default:!1}},data:function(){return{translate:0,scrollEventTarget:null,containerFilled:!1,topText:"",topDropped:!1,bottomText:"",bottomDropped:!1,bottomReached:!1,direction:"",startY:0,startScrollTop:0,currentY:0,topStatus:"",bottomStatus:""}},computed:{transform:function(){return 0===this.translate?null:"translate3d(0, "+this.translate+"px, 0)"}},watch:{topStatus:function(t){switch(this.$emit("top-status-change",t),t){case"pull":this.topText=this.topPullText;break;case"drop":this.topText=this.topDropText;break;case"loading":this.topText=this.topLoadingText}},bottomStatus:function(t){switch(this.$emit("bottom-status-change",t),t){case"pull":this.bottomText=this.bottomPullText;break;case"drop":this.bottomText=this.bottomDropText;break;case"loading":this.bottomText=this.bottomLoadingText}}},methods:{onTopLoaded:function(){var t=this;this.translate=0,setTimeout(function(){t.topStatus="pull"},200)},onBottomLoaded:function(){var t=this;this.bottomStatus="pull",this.bottomDropped=!1,this.$nextTick(function(){t.scrollEventTarget===window?document.body.scrollTop+=50:t.scrollEventTarget.scrollTop+=50,t.translate=0}),this.bottomAllLoaded||this.containerFilled||this.fillContainer()},getScrollEventTarget:function(t){for(var e=t;e&&"HTML"!==e.tagName&&"BODY"!==e.tagName&&1===e.nodeType;){var a=document.defaultView.getComputedStyle(e).overflowY;if("scroll"===a||"auto"===a)return e;e=e.parentNode}return window},getScrollTop:function(t){return t===window?Math.max(window.pageYOffset||0,document.documentElement.scrollTop):t.scrollTop},bindTouchEvents:function(){this.$el.addEventListener("touchstart",this.handleTouchStart),this.$el.addEventListener("touchmove",this.handleTouchMove),this.$el.addEventListener("touchend",this.handleTouchEnd)},init:function(){this.topStatus="pull",this.bottomStatus="pull",this.topText=this.topPullText,this.scrollEventTarget=this.getScrollEventTarget(this.$el),"function"==typeof this.bottomMethod&&(this.fillContainer(),this.bindTouchEvents()),"function"==typeof this.topMethod&&this.bindTouchEvents()},fillContainer:function(){var t=this;this.autoFill&&this.$nextTick(function(){t.scrollEventTarget===window?t.containerFilled=t.$el.getBoundingClientRect().bottom>=document.documentElement.getBoundingClientRect().bottom:t.containerFilled=t.$el.getBoundingClientRect().bottom>=t.scrollEventTarget.getBoundingClientRect().bottom,t.containerFilled||(t.bottomStatus="loading",t.bottomMethod())})},checkBottomReached:function(){return this.scrollEventTarget===window?document.documentElement.scrollTop||document.body.scrollTop+document.documentElement.clientHeight>=document.body.scrollHeight:parseInt(this.$el.getBoundingClientRect().bottom)<=parseInt(this.scrollEventTarget.getBoundingClientRect().bottom)+1},handleTouchStart:function(t){this.startY=t.touches[0].clientY,this.startScrollTop=this.getScrollTop(this.scrollEventTarget),this.bottomReached=!1,"loading"!==this.topStatus&&(this.topStatus="pull",this.topDropped=!1),"loading"!==this.bottomStatus&&(this.bottomStatus="pull",this.bottomDropped=!1)},handleTouchMove:function(t){if(!(this.startY<this.$el.getBoundingClientRect().top&&this.startY>this.$el.getBoundingClientRect().bottom)){this.currentY=t.touches[0].clientY;var e=(this.currentY-this.startY)/this.distanceIndex;this.direction=e>0?"down":"up","function"==typeof this.topMethod&&"down"===this.direction&&0===this.getScrollTop(this.scrollEventTarget)&&"loading"!==this.topStatus&&(t.preventDefault(),t.stopPropagation(),this.maxDistance>0?this.translate=e<=this.maxDistance?e-this.startScrollTop:this.translate:this.translate=e-this.startScrollTop,this.translate<0&&(this.translate=0),this.topStatus=this.translate>=this.topDistance?"drop":"pull"),"up"===this.direction&&(this.bottomReached=this.bottomReached||this.checkBottomReached()),"function"==typeof this.bottomMethod&&"up"===this.direction&&this.bottomReached&&"loading"!==this.bottomStatus&&!this.bottomAllLoaded&&(t.preventDefault(),t.stopPropagation(),this.maxDistance>0?this.translate=Math.abs(e)<=this.maxDistance?this.getScrollTop(this.scrollEventTarget)-this.startScrollTop+e:this.translate:this.translate=this.getScrollTop(this.scrollEventTarget)-this.startScrollTop+e,this.translate>0&&(this.translate=0),this.bottomStatus=-this.translate>=this.bottomDistance?"drop":"pull"),this.$emit("translate-change",this.translate)}},handleTouchEnd:function(){"down"===this.direction&&0===this.getScrollTop(this.scrollEventTarget)&&this.translate>0&&(this.topDropped=!0,"drop"===this.topStatus?(this.translate="50",this.topStatus="loading",this.topMethod()):(this.translate="0",this.topStatus="pull")),"up"===this.direction&&this.bottomReached&&this.translate<0&&(this.bottomDropped=!0,this.bottomReached=!1,"drop"===this.bottomStatus?(this.translate="-50",this.bottomStatus="loading",this.bottomMethod()):(this.translate="0",this.bottomStatus="pull")),this.$emit("translate-change",this.translate),this.direction=""}},mounted:function(){this.init()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bihu-loadmore"},[a("div",{staticClass:"bihu-loadmore-content",class:{"is-dropped":t.topDropped||t.bottomDropped},style:{transform:t.transform}},[t._t("top",[t.topMethod?a("div",{staticClass:"bihu-loadmore-top"},["loading"===t.topStatus?a("span",{staticClass:"status"}):t._e(),t._v(" "),a("span",{staticClass:"bihu-loadmore-text"},[t._v(t._s(t.topText))])]):t._e()]),t._v(" "),t._t("default"),t._v(" "),t._t("bottom",[t.bottomMethod&&!t.bottomAllLoaded?a("div",{staticClass:"bihu-loadmore-bottom"},["loading"===t.bottomStatus?a("span",{staticClass:"status"}):t._e(),t._v(" "),a("span",{staticClass:"bihu-loadmore-text"},[t._v(t._s(t.bottomText))])]):t._e()])],2)])},staticRenderFns:[]};var r=a("C7Lr")(l,c,!1,function(t){a("ue2I")},"data-v-87f1199c",null).exports,u=a("Ntn1"),d={name:"publicList",components:{myService:o.a,loadMore:r,myAd:u.a},data:function(){return{tabName:"XL002",dataList:null,publicList:null,publicHeadNum:null,page:1,contentH:0,allLoaded:!0}},computed:{},created:function(){this.tabName=this.$route.query.planCode||"XL002",sessionStorage.removeItem("planCode"),this.getPublicList(),localStorage.getItem("_userToken")?this.actionCount("pv"):this.setActionCount("pv","-1")},methods:{changeTab:function(t){this.tabName=t,this.publicList=this.dataList&&this.dataList[t]},getPublicList:function(){var t=this;this.$get(s.a.getPublicList,{page:this.page,per_count:10},!0).then(function(e){if(0==e.code){if(1==t.page)t.dataList=e.data.public_list,t.publicHeadNum=e.data.total,t.$nextTick(function(){this.contentH=document.documentElement.clientHeight-this.$refs.loadcont.getBoundingClientRect().top});else{var a=e.data.public_list;n()(t.dataList).forEach(function(e){t.dataList[e]=t.dataList[e].concat(a[e]||[])})}t.dataList[t.tabName]&&t.dataList[t.tabName].length<=10&&(t.allLoaded=!0),t.publicList=t.dataList[t.tabName]}})},loadBottom:function(){this.page++,this.getPublicList(),this.$refs.loadmore.onBottomLoaded()},checkDetail:function(t){this.$router.push("/weibo/public-member?id="+t+"&planCode="+this.tabName)},getpublicState:function(t){return t=t.replace(".","/").replace(".","/")+" 23:59:59",new Date(t).getTime()>(new Date).getTime()}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sina_page"},[a("div",{staticClass:"head-wrap"},[a("p",[t._v("已公布 "),a("span",[t._v(t._s(t.publicHeadNum&&t.publicHeadNum.public_count))]),t._v(" 次公示，共 "),a("span",[t._v(t._s(t.publicHeadNum&&t.publicHeadNum.help_count))]),t._v(" 位受助成员")])]),t._v(" "),a("div",{staticClass:"plan_types"},[a("div",{staticClass:"plan_type",class:{active:"XL001"==t.tabName},on:{click:function(e){return t.changeTab("XL001")}}},[t._v("大病互助")]),t._v(" "),a("div",{staticClass:"plan_type",class:{active:"XL002"==t.tabName},on:{click:function(e){return t.changeTab("XL002")}}},[t._v("意外医疗")]),t._v(" "),a("div",{staticClass:"plan_type",class:{active:"XL003"==t.tabName},on:{click:function(e){return t.changeTab("XL003")}}},[t._v("新冠互助")]),t._v(" "),a("div",{staticClass:"plan_type",class:{active:"XL005"==t.tabName},on:{click:function(e){return t.changeTab("XL005")}}},[t._v("老年防癌")]),t._v(" "),a("div",{staticClass:"plan_type",class:{active:"XL004"==t.tabName},on:{click:function(e){return t.changeTab("XL004")}}},[t._v("意外伤害")])]),t._v(" "),a("div",{staticClass:"my-ad"},[a("my-ad",{attrs:{id:"weibo-public-list-1",hasCloseBtn:"true"}})],1),t._v(" "),a("div",{ref:"loadcont",staticClass:"loadcont",style:{maxHeight:t.contentH+"px"}},[a("div",{staticClass:"public_list"},[a("load-more",{ref:"loadmore",attrs:{"bottom-method":t.loadBottom,"bottom-all-loaded":t.allLoaded}},[t.publicList?a("div",{staticClass:"public_nums_cells"},[t._l(t.publicList,function(e,i){return["0"!=e.state&&"2"!=e.state?a("div",{key:i,staticClass:"public_nums_cell",class:{active:1==e.state&&t.getpublicState(e.end_date)},on:{click:function(a){return t.checkDetail(e.public_id)}}},[a("div",{staticClass:"public_nums_title"},[a("div",{staticClass:"num_name"},[t._v(t._s(e.name))]),t._v(" "),1==e.state?a("div",{staticClass:"num_state"},[t.getpublicState(e.end_date)?a("span",[t._v("公示中")]):a("span",[t._v("互助成功")])]):a("div",{staticClass:"num_state"},[t._v(t._s(e.state_name))])]),t._v(" "),a("div",{staticClass:"public_nums_cont"},[a("div",{staticClass:"nums_cont"},[a("div",{staticClass:"public_cells"},[a("div",{staticClass:"public_cell"},[a("div",{staticClass:"nums"},[t._v(t._s(e.help_count)),a("i",[t._v("人")])]),t._v(" "),a("div",{staticClass:"feiyantxt"},[t._v("帮助成员")])]),t._v(" "),a("div",{staticClass:"public_cell"},[a("div",{staticClass:"nums"},[t._v(t._s(e.total_persons)),a("i",[t._v("人")])]),t._v(" "),a("div",{staticClass:"feiyantxt"},[t._v("分摊人数")])])])])])]):t._e()]})],2):t._e()])],1),t._v(" "),a("my-service",{attrs:{fixedBotBtn:"true"}})],1)])},staticRenderFns:[]};var m=a("C7Lr")(d,p,!1,function(t){a("QV4P")},"data-v-ae660732",null);e.default=m.exports},QV4P:function(t,e,a){var i=a("mUMi");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("FIqI")("5816dc24",i,!0,{})},hOnc:function(t,e,a){(t.exports=a("UTlt")(!1)).push([t.i,"\n.bihu-loadmore[data-v-87f1199c]{overflow-y:hidden;padding:0 1.25rem;background:transparent\n}\n.haservice .bihu-loadmore[data-v-87f1199c]{padding-bottom:5.9375rem\n}\n.bihu-loadmore-content.is-dropped[data-v-87f1199c]{-webkit-transition:.2s;transition:.2s\n}\n.bihu-loadmore-top[data-v-87f1199c],.bihu-loadmore-bottom[data-v-87f1199c]{text-align:center;height:1.5625rem;line-height:1.5625rem;margin-top:0.5rem\n}\n.bihu-loadmore-top[data-v-87f1199c]{margin-top:-1.5625rem\n}\n.bihu-loadmore-bottom[data-v-87f1199c]{margin-bottom:-1.5625rem\n}\n.bihu-loadmore-text[data-v-87f1199c]{vertical-align:middle\n}\n.status[data-v-87f1199c]{display:block;margin:0 auto;width:1.5625rem;height:1.5625rem;animation:spinner-rotate-data-v-87f1199c 1.5s infinite linear;-webkit-animation:spinner-rotate-data-v-87f1199c 1.5s infinite linear;-moz-animation:spinner-rotate-data-v-87f1199c 1.5s infinite linear;-ms-animation:spinner-rotate-data-v-87f1199c 1.5s infinite linear;-o-animation:spinner-rotate-data-v-87f1199c 1.5s infinite linear;border:0.125rem solid #939393;border-right-color:transparent;border-radius:50%\n}\n@keyframes spinner-rotate-data-v-87f1199c{\n0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\n}\n100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)\n}\n}\n@-webkit-keyframes spinner-rotate-data-v-87f1199c{\n0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\n}\n100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)\n}\n}\n",""])},mUMi:function(t,e,a){var i=a("L4zZ");(t.exports=a("UTlt")(!1)).push([t.i,"\n.sina_page .head-wrap[data-v-ae660732]{position:relative;color:#fff;height:8.125rem;background-image:url("+i(a("e2za"))+");background-size:100% auto;padding:2.5rem 0.9375rem 0\n}\n.sina_page .head-wrap span[data-v-ae660732]{font-size:1.1875rem\n}\n.sina_page .head-wrap p[data-v-ae660732]{height:1.6875rem;font-size:0.875rem;line-height:1.6875rem\n}\n.sina_page .head-wrap p[data-v-ae660732]:nth-child(2){margin-top:0.5rem\n}\n.sina_page .loadcont[data-v-ae660732]{-ms-touch-action:none;touch-action:none\n}\n.sina_page .my-ad[data-v-ae660732]{padding:0.3125rem 0.5625rem 0\n}\n.sina_page .public_list[data-v-ae660732]{margin-top:0.1875rem;background:#fff;padding:1.25rem 1.25rem 0 1.6875rem;overflow-y:auto\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_title[data-v-ae660732]{position:relative;border-left:0.125rem solid #e6e6e6;color:#939393;font-size:0.875rem;font-weight:bold\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_title[data-v-ae660732]:before{content:'';position:absolute;left:-0.65625rem;bottom:0;width:0.8125rem;height:0.8125rem;border-radius:50%;background:#fff;border:0.125rem solid #ff8200\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_title .num_name[data-v-ae660732]{border-bottom:1PX solid #ff8200;padding:0 0.125rem 0 0.75rem;display:inline-block;line-height:1.25rem\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_title .num_state[data-v-ae660732]{float:right\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_cont[data-v-ae660732]{border-left:0.125rem solid #e6e6e6;padding:1.5625rem 0 2.5rem 1.25rem\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_cont .nums_cont[data-v-ae660732]{padding:1rem 0;background:#F9F9FC;border-radius:0.625rem;border:1PX solid #F9F9FC\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_cont .nums_cont .public_cells .public_cell[data-v-ae660732]{position:relative\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_cont .nums_cont .public_cells .public_cell[data-v-ae660732]:after{content:\"\";position:absolute;top:0.9375rem;right:0;width:0.0625rem;height:1.125rem;background:#e6e6e6\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_cont .nums_cont .public_cells .public_cell[data-v-ae660732]:last-child:after{width:0\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_cont .nums_cont .public_cells .public_cell .nums[data-v-ae660732]{font-size:1.3125rem;font-weight:bold;line-height:1.875rem;padding-bottom:0\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell .public_nums_cont .nums_cont .public_cells .public_cell .feiyantxt[data-v-ae660732]{color:#939393\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell.active .public_nums_title[data-v-ae660732]{border-color:transparent;color:#333\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell.active .public_nums_title .num_state[data-v-ae660732]{color:#ff8200\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell.active .public_nums_title[data-v-ae660732]:after{content:'';position:absolute;bottom:0.3125rem;left:-0.34375rem;width:0.4375rem;height:0.4375rem;border-radius:50%;background:#ff8200\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell.active .public_nums_cont .nums_cont[data-v-ae660732]{border-color:#FFD4A4;background:#FFF9F0\n}\n.sina_page .public_list .public_nums_cells .public_nums_cell:last-child .public_nums_cont[data-v-ae660732]{border:0\n}\n.sina_page .public_list .nodata[data-v-ae660732]{padding:0.9375rem;font-size:0.75rem;text-align:center\n}\n",""])},ue2I:function(t,e,a){var i=a("hOnc");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("FIqI")("17a8b4cc",i,!0,{})}});